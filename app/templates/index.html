<!DOCTYPE html>
<html>
<head>
    <title>Sensor Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .video-container {
            width: 640px;
            height: 480px;
            margin: 0 auto;
            border: 2px solid #333;
            background: #000;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .data-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .data-item {
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        .data-label {
            font-weight: bold;
            color: #333;
        }
        .data-value {
            color: #666;
        }
    </style>
</head>
<body>
    <div class="video-container">
        Video Feed (Coming Soon)
    </div>

    <div class="data-grid">
        <!-- Latest Data Only -->
        {% if data %}
        {% set latest = data[0] %}
        <div class="data-item">
            <span class="data-label">GPS:</span>
            <span class="data-value">{{ "%.4f, %.4f, %.4f"|format(latest.gpsx, latest.gpsy, latest.gpsz) }}</span>
        </div>
        <div class="data-item">
            <span class="data-label">Pressure:</span>
            <span class="data-value">{{ latest.pressure }} hPa</span>
        </div>
        <div class="data-item">
            <span class="data-label">Altitude:</span>
            <span class="data-value">{{ latest.altitude }} m</span>
        </div>
        <div class="data-item">
            <span class="data-label">Temperature:</span>
            <span class="data-value">{{ latest.temp }} °C</span>
        </div>
        <div class="data-item">
            <span class="data-label">Velocity:</span>
            <span class="data-value">{{ "%.2f, %.2f, %.2f"|format(latest.Vx, latest.Vy, latest.Vz) }} m/s</span>
        </div>
        <div class="data-item">
            <span class="data-label">Acceleration:</span>
            <span class="data-value">{{ "%.2f, %.2f, %.2f"|format(latest.Ax, latest.Ay, latest.Az) }} m/s²</span>
        </div>
        <div class="data-item">
            <span class="data-label">Gyro:</span>
            <span class="data-value">{{ "%.2f, %.2f, %.2f"|format(latest.Gx, latest.Gy, latest.Gz) }} rad/s</span>
        </div>
        <div class="data-item">
            <span class="data-label">Orientation:</span>
            <span class="data-value">P: {{ latest.pitch|round(2) }}°, Y: {{ latest.yaw|round(2) }}°, R: {{ latest.roll|round(2) }}°</span>
        </div>
        <div class="data-item" style="grid-column: 1 / -1;">
            <span class="data-label">Last QR Reading:</span>
            <span class="data-value">{{ latest.last_qr_reading }}</span>
        </div>
        {% endif %}
    </div>
</body>
</html>